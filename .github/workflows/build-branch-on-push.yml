name: Build branch on push

on:
  push: 
    branches:
      - '*'
      - '!master'
      - '!gh-pages'

  pull_request:
    branches:
      - '*'
      - '!master'
      - '!gh-pages'

# help with variables https://github.com/actions/checkout

jobs:
  build:
    name: buildout
    runs-on: ubuntu-latest

    steps:
    - name: Checking out repository ${{ github.event.pull_request.head.sha }}
      uses: actions/checkout@v2
      with: 
        ref: ${{ github.event.pull_request.head.sha }}

    - name: Installing Python
      run:  python -m pip install --upgrade pip

    - name: Installing Mkdocs
      run:  python -m pip install mkdocs
        
    - name: Building website
      run:  python -m mkdocs build
