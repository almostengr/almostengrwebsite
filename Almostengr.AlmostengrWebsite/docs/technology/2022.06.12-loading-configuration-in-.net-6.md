---
title: Loading Configuration in .NET 6
author: Kenny Robinson, @almostengr
category: technology
keywords: .net 6, configuration, programming, csharp
posted: 2022-06-12
---

I was updateing one of my projects from .NET 5 to .NET 6. As part of this upgrade, 
I create new projects so that I could use the templates that were designed for .NET 6. 
Yes I could have used the .NET 5 template for Program.cs and Startup.cs, but wanted to 
expand my knowledge of how to do things with only the Program.cs file that is provided 
as part of .NET 6 templates.

With .NET 5, the configuration was part of the Startup class. Since there is no longer a
Startup class, I did not know where it should be placed. I did the research on 
<a href="https://stackoverflow.com/users/12875554/almostengr" target="_blank">Stack Overflow</a>
but did not come up with any answers.

After some time, I did figure out what needed to be done and wrote this post to share 
that same information and some of the challenges that I faced when setting things up. 

## Dealing with Environment appsettings.json

With my projects, I suually have two appsettings.json files. One for production, or release
configuration, and one for development configuration. Production file is called 
appsettings.json and the Development file is called appsettings.Development.json. 

I found that you have to use the Configuration Builder to load the appsettings.json file. 
You do this by adding the following to the Program.cs file. 

```csharp
IConfiguration configuration = new ConfigurationBuilder()
    .AddJsonFile("appsettings.json", true, true)
    .Build();
```
