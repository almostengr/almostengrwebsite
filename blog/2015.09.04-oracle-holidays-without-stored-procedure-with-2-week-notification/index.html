<!doctype html><html lang=en> <head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, shrink-to-fit=no"><meta property=og:locale content=en_US><meta property=og:site_name content="Almost Engineer Services"><meta name=twitter:card content=summary><meta name=twitter:site content=@almostengr><meta name=twitter:creator content=@almostengr><meta name=description content="Providing technology and handyman services."><meta property=og:description content="Providing technology and handyman services."><meta name=twitter:description content="Providing technology and handyman services."><meta name=author content="Kenny Robinson, @almostengr"><title>Oracle Holidays without Stored Procedure with 2 Week Notification | Almost Engineer Services</title><meta property=og:title content="Oracle Holidays without Stored Procedure with 2 Week Notification"><meta name=twitter:title content="Oracle Holidays without Stored Procedure with 2 Week Notification"><meta property=og:type content=article><meta name=robots content="index, follow"><link href=https://thealmostengineer.com/blog/2015.09.04-oracle-holidays-without-stored-procedure-with-2-week-notification/ rel=canonical><meta content=https://thealmostengineer.com/blog/2015.09.04-oracle-holidays-without-stored-procedure-with-2-week-notification/ property=og:url><meta content=https://thealmostengineer.com/blog/2015.09.04-oracle-holidays-without-stored-procedure-with-2-week-notification/ property=twitter:url><script type=text/javascript>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-64643711-1', 'thealmostengineer.com');
    ga('send', 'pageview');
  </script><script async src=https://kit.fontawesome.com/a076d05399.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js></script><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/almostengrtheme.min.css><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/default.min.css><link rel=stylesheet href=/css/a11y-dark-theme.min.css><link rel=stylesheet href=/css/navbar-top-fixed.min.css><!-- Custom styles for by page --><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><link rel=manifest href=/images/site.webmanifest></head> <body> <header> <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-black"> <div> <a href=/ class="navbar-brand font-weight-bold">Almost Engineer Services</a> <button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> </div> <div class="collapse navbar-collapse" id=navbarCollapse> <ul class="navbar-nav ml-auto"> <li class=nav-item> <a class="nav-link text-white text-uppercase" href=/about>Services</a> </li> <li class=nav-item> <a class="nav-link text-white text-uppercase" href=/blog>Blog</a> </li> <li class=nav-item> <a class="nav-link text-white text-uppercase" href=/contact>Contact</a> </li> </ul> <form class="mt-2 mt-md-0" method=GET action=/request> <button class="btn btn-outline-danger mx-2 text-uppercase" id=requestservice type=submit>Request Service</button> </form> </div> </nav> </header> <div class=bg-white> <main role=main class="container py-2"> <div class=row> <div id=content-area class="col-sm-12 col-lg-8 border-lg-right border-dark"> <article> <h1 id=oracle-holidays-without-stored-procedure-with-2-week-notification>Oracle Holidays without Stored Procedure with 2 Week Notification</h1> <p>A client had a need for notifying others of upcoming holidays in some automated reports. Instead of manually adding these holidays to the reports as they were approaching, it was suggested that the dates be added to the report automatically. Through the use of SQL, the below code was created. It is not flawless, but does provide advance notification that met the client's needs. </p> <h2 id=mlk-day-3rd-monday-in-january>MLK Day, 3rd Monday in January</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: Martin Luther King Day is on ' || 
(select to_date(NEXT_DAY(to_date((select '14-JAN-' || to_char(sysdate, 'YY') from dual)),'Monday'))  from dual where 
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '14-JAN-' || to_char(sysdate, 'YY') from dual)),'Monday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '14-JAN-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual);
</code></pre> <h2 id=presidents-day-3rd-monday-in-february>President's Day, 3rd Monday in February</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: President''s Day is on ' || 
(select to_date(NEXT_DAY(to_date((select '14-FEB-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual)  from dual where 
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '14-FEB-' || to_char(sysdate, 'YY') from dual)),'Monday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '14-FEB-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual);
</code></pre> <h2 id=daylight-savings-time-start-2nd-sunday-in-march>Daylight Savings Time Start, 2nd Sunday in March</h2> <pre><code class=language-sql>select 'Upcoming Special Processing: Daylight Savings Time Starts on ' ||
(select to_date(NEXT_DAY(to_date((select '1-MAR-' || to_char(sysdate, 'YY') from dual)),'Sunday')) from dual)  from dual where
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '1-MAR-' || to_char(sysdate, 'YY') from dual)),'Monday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '1-MAR-' || to_char(sysdate, 'YY') from dual)),'Sunday')) from dual);
</code></pre> <h2 id=memorial-day-last-monday-in-may>Memorial Day, last Monday in May</h2> <pre><code class=language-sql>select 'Upcoming Holiday and  Special Processing: Memorial Day is on ' || 
(select to_date(NEXT_DAY(to_date((select '24-MAY-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual)  from dual where 
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '24-MAY-' || to_char(sysdate, 'YY') from dual)),'Monday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '24-MAY-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual);
</code></pre> <h2 id=independence-day-july-4th>Independence Day, July 4th</h2> <pre><code class=language-sql>select 'Upcoming Holiday and  Special Processing: Independence Day is on 04-JUL-' || 
(select to_char(sysdate, 'YY') from dual)  from dual
where (to_char(sysdate, 'Mon') = 'Jun' and sysdate &gt;= to_date('20', 'DD') AND
(to_char(sysdate, 'Mon') = 'Jul' and sysdate &lt;= to_date('05', 'DD') );
</code></pre> <h2 id=labor-day-1st-monday-in-september>Labor day, 1st Monday in September</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: Labor Day is on ' ||
(select to_date(NEXT_DAY(to_date((select '31-AUG-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual)  from dual where 
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '31-AUG-' || to_char(sysdate, 'YY') from dual)),'Monday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '31-AUG-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual);
</code></pre> <h2 id=daylight-savings-time-ends-1st-sunday-in-november>Daylight Savings Time Ends, 1st Sunday in November</h2> <pre><code class=language-sql>select 'Upcoming Special Processing: Daylight Savings Time Ends on ' || 
(select to_date(NEXT_DAY(to_date((select '31-OCT-' || to_char(sysdate, 'YY') from dual)),'Sunday')) from dual)  from dual where
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '31-OCT-' || to_char(sysdate, 'YY') from dual)),'Sunday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '31-OCT-' || to_char(sysdate, 'YY') from dual)),'Sunday')) from dual);
</code></pre> <h2 id=veterans-day-november-11th>Veterans Day, November 11th</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: Veteran''s Day is on 11-NOV-' || 
(select to_char(sysdate, 'YY') from dual)  from dual
where (to_char(sysdate, 'Mon') = 'Oct' and sysdate &gt;= to_date('28', 'DD')) AND 
(to_char(sysdate, 'Mon') = 'Nov' and sysdate &lt;= to_date('11', 'DD'));
</code></pre> <h2 id=thanksgiving-and-day-after-thanksgiving-black-friday-4th-thursday-in-november>Thanksgiving and Day after Thanksgiving (Black Friday), 4th Thursday in November</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: Thanksgiving and Day After Thanksgiving are on ' || 
(select to_date(NEXT_DAY(to_date((select '21-NOV-' || to_char(sysdate, 'YY') from dual)),'Thursday')) from dual) || ' and ' ||
(select to_date(NEXT_DAY(to_date((select '21-NOV-' || to_char(sysdate, 'YY') from dual)),'Friday')) from dual)  from dual where 
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '21-NOV-' || to_char(sysdate, 'YY') from dual)),'Thursday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '21-NOV-' || to_char(sysdate, 'YY') from dual)),'Friday')) from dual);
</code></pre> <h2 id=christmas-december-25th>Christmas, December 25th</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: Christmas Day is on 25-DEC-' || 
(select to_char(sysdate, 'YY') from dual)  from dual  
where to_char(SYSDATE, 'Mon') = 'Dec' AND 
to_char(sysdate, 'W') in ('2', '3', '4') and sysdate &lt;= to_date('26', 'DD');
</code></pre> <h2 id=new-years-eve-and-new-years-day-january-1>New Year's Eve and New Year's Day, January 1</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: New Year''s Day is on 1-JAN-' || 
(select to_char(sysdate+365, 'YY') from dual)  from dual  
where (to_char(SYSDATE, 'Mon') = 'Dec' AND to_char(sysdate, 'W') in ('2', '3', '4', '5'));

select 'Upcoming Holiday and Special Processing: New Year''s Day is on 1-JAN-' || 
(select to_char(sysdate, 'YY') from dual)  from dual where
(to_char(sysdate, 'Mon') = 'Jan' and sysdate &lt;= to_date('02', 'DD')); 
</code></pre> <div class="bg-light border border-danger my-3 p-3 rounded"> <span id=posted><strong>Published:</strong> 2015-09-04</span> <br> <span id=updated><strong>Updated:</strong> 2020-07-15</span><br> <span id=category><strong>Category:</strong> Technology</span><br> <span id=readtime><strong>Read Time:</strong> 5 minute(s)</span><br> </div> </article> </div> <!-- sidebar --> <div id=sidebar class="col-sm-12 col-lg-4 p-2 bg-light-gray"> <div class="mb-3 border border-dark bg-white text-black"> <h4 class="text-left bg-black p-2"> <span class="text-white p-2 font-weight-bold">Request Service</span> </h4> <div class=p-2> <p>Do you have work that needs to be done and are ready to get started?</p> <p><a class="btn btn-danger" href=/request>Get Started!</a></p> </div> </div> <div class="mb-3 border border-dark bg-white text-black"> <h4 class="text-left bg-black p-2"> <span class="text-white p-2 font-weight-bold">Blog and Past Work</span> </h4> <div class=p-2> <p>Check out some of our past projects and work on our blog!</p> <p><a class="btn btn-danger" href=/request>Read Blog</a></p> </div> </div> <div class="mb-3 border border-dark bg-white text-black"> <div class=p-2> <script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script> <ins class=adsbygoogle style=display:block data-ad-client=ca-pub-4218270188842097 data-ad-slot=5189305512 data-ad-format=auto data-full-width-responsive=true></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div> </div> <div class="mb-3 border border-dark bg-white text-black"> <div class=p-2> <script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script> <ins class=adsbygoogle style=display:block data-ad-client=ca-pub-4218270188842097 data-ad-slot=5189305512 data-ad-format=auto data-full-width-responsive=true></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div> </div> </div> <!-- end sidebar --> </div> </main> <p class=container><a href=#top class="text-small text-black">Back to Top</a></p> </div> <footer class="bg-black pt-3"> <div class="container px-0"> <div class="text-white col-12"> <ul class="list-unstyled list-inline"> <li class="px-2 bg-white list-inline-item text-dark font-weight-bold">SOCIAL</li> <li class="mr-2 list-inline-item text-capitalize"> <a href=https://github.com/almostengr target=_blank>github</a> </li> <li class="mr-2 list-inline-item text-capitalize"> <a href=https://instagram.com/almostengr target=_blank>instagram</a> </li> <li class="mr-2 list-inline-item text-capitalize"> <a href=https://twitter.com/almostengr target=_blank>twitter</a> </li> <li class="mr-2 list-inline-item text-capitalize"> <a href="https://www.youtube.com/channel/UC4HCouBLtXD1j1U_17aBqig?sub_confirmation=1" target=_blank>youtube</a> </li> </ul> </div> <div class=col-12> <ul class="list-unstyled text-white"> <li class="px-2 list-inline-item text-left bg-white text-dark font-weight-bold">SERVICES PROVIDED</li> <li class="mr-2 list-inline-item"><a href=/blog/2020.07.12-ceiling-fan-installation-with-downrod>Install Ceiling Fan</a></li> <li class="mr-2 list-inline-item"><a href=/blog/2019.07.30-reinforce-bookcase-with-plywood>Bookcase Assembly</a></li> <li class="mr-2 list-inline-item"><a href=/blog/2020.07.21-front-yard-landscaping>Landscaping</a></li> <li class="mr-2 list-inline-item"><a href=/blog/2018.07.21-how-to-replace-toilet-gasket-and-bolts>Toilet Repair</a></li> <li class="mr-2 list-inline-item"><a href=/blog/2018.06.19-replace-optical-drive-in-pc/ >Computer Repair</a></li> <li class="mr-2 list-inline-item"><a href=/blog/2020.03.01-linux-training-session/ >Linux Training</a></li> </ul> </div> <div class=col-12> <ul class="list-unstyled text-white"> <li class="px-2 bg-white text-dark font-weight-bold list-inline-item">LINKS</li> <li class="mr-2 list-inline-item"><a href=/about>About</a></li> <li class="mr-2 list-inline-item"><a href=/uses>Uses</a></li> <li class="mr-2 list-inline-item"><a href=/payment>Make Payment</a></li> <li class="mr-2 list-inline-item"><a href=/request>Request Service</a></li> <li class="mr-2 list-inline-item"><a href=/search>Search</a></li> <li class="mr-2 list-inline-item"><a href=/blog>Blog</a></li> <li class="mr-2 list-inline-item"><a href=/contact>Contact</a></li> <li class="mr-2 list-inline-item"><a href=/faq>FAQ</a></li> <li class="mr-2 list-inline-item"><a href=/sitemap.xml>Sitemap</a></li> <li class="mr-2 list-inline-item"><a href=/privacy>Privacy</a></li> </ul> </div> </div> <hr class="text-white container"> <div class="text-center text-white bg-black pt-2 pb-5 px-2"> <p>Copyright &copy; 2015-2020 Almost Engineer Services</p> <p class=text-small> Cookies are used on this website to track your visits, provide advertisements specific to you, and preferences by a third-party. By continuing to use this site, you agree to the use of cookies unless you have disabled them. More information this is available in the <a href=/privacy>Privacy Policy</a>. </p> </div> </footer> <script src=https://code.jquery.com/jquery-3.5.1.slim.min.js integrity=sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj crossorigin=anonymous></script> <script>window.jQuery || document.write('<script src="js/vendor/jquery.slim.min.js"><\/script>')</script> <script src=/js/bootstrap.bundle.min.js></script> <script>hljs.initHighlightingOnLoad();</script> </body> </html>