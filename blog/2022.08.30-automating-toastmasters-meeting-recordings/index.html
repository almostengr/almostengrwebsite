<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="The blog of Kenny Robinson">
  <meta name="author" content="Kenny Robinson, @almostengr">
  <meta name="generator" content="Mkdocs">

  
  <title>Automating Toastmasters Meeting Recordings - The Almost Engineer</title>
  

  <link href="/assets/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/blog.min.css" rel="stylesheet">

  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:site_name" content="The Almost Engineer" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="" />
  <meta name="twitter:creator" content="" />

  
  <meta name="description" content="The blog of Kenny Robinson">
  <meta property="og:description" content="The blog of Kenny Robinson" />
  <meta name="twitter:description" content="The blog of Kenny Robinson" />
  

  

  
  <meta name="keywords" content="toastmasters, automation, automating, shell scripting" />
  

  

  
  <meta name="robots" content="index, follow" />
  

  
  <link rel="canonical" href="https://thealmostengineer.com/blog/2022.08.30-automating-toastmasters-meeting-recordings/">
  <meta property="og:url" content="https://thealmostengineer.com/blog/2022.08.30-automating-toastmasters-meeting-recordings/" />
  <meta property="twitter:url" content="https://thealmostengineer.com/blog/2022.08.30-automating-toastmasters-meeting-recordings/" />
  

  
  <meta name="author" content="Kenny Robinson, @almostengr">
  

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="//www.googletagmanager.com/gtag/js?id="></script>
  <script
    async>window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-64643711-1');</script>
</head>

<body class="bg-dark">
  <nav class="navbar navbar-expand-md navbar-dark bg-dark pb-2">
    <a class="navbar-brand" href="/">The Almost Engineer</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item"><a class="nav-link text-light" href="/blog">Blog</a></li>
        <li class="nav-item"><a class="nav-link text-light" href="/projects">Projects</a></li>
        <li class="nav-item"><a class="nav-link text-light" href="/resources">Get Into Tech</a></li>
        <li class="nav-item"><a class="nav-link text-light" href="https://lightshow.thealmostengineer.com">Light Show</a></li>
      </ul>

      
      <form class="form-inline mt-2 mt-md-0" action="https://www.google.com/search" method="get">
        <input type="hidden" name="q" value="site:thealmostengineer.com">
        <input class="form-control mr-sm-2" type="text" placeholder="Search with Google" aria-label="Search" name="q">
      </form>
      
    </div>
  </nav>

  <div class="bg-light pt-3 mb-0 pb-0">
    

    
    <main role="main" class="container">
  <div class="row">
    <div class="col-md-8 blog-main">
      
      <h1>Automating Toastmasters Meeting Recordings</h1>
      
      <p>During the summer, I was nominated and eventually elected to be the Public Relations chair 
for the Toastmasters club that I am a member of. One of the duties that the role has is 
to run the social media and other communication methods for the chapter. Oddly fitting 
that I am the current Secretary for my NSBE chapter which duties are similar in nature. </p>
<p>One of the things that I decided that would be more inviting to get people more active in 
the chapter is to post recordings of the meetings. This way, people can see what the meeting 
is like before the participate. They can also become familiar with how things are done 
before attending a meeting. </p>
<p>Using my GoPro to record the meeting results in large video files. Typical video length is 
from 10 GB to 18 GB of video at 1080p. Because the files are so large, the GoPro breaks 
the single video into multiple parts with the largest being 4GB. </p>
<p>One part of the process that I want to improve is the video creation. 
The multiple video files are rendered to be a single video file. In addition, I brand the video 
with the chapter name or the URL to the chapter's website.
I created a script for this purpose so that I would not have to remember the command each 
time that I created a video. </p>
<pre><code class="language-bash">#!/bin/bash

for videoFile in *MP4
do
  echo &quot;file ${videoFile}&quot; &gt;&gt; ffmpeg.txt
done

/usr/bin/ffmpeg -y -loglevel error -safe 0 -init_hw_device vaapi=foo:/dev/dri/renderD128 -hwaccel vaapi -hwaccel_output_format nv12 -f concat -i &quot;ffmpeg.txt&quot; -filter_hw_device foo -vf &quot;drawtext=textfile:'towertoastmasters.org':fontcolor=white:fontsize=h/25:x=w-tw-30:y=30:box=1:boxborderw=10:boxcolor=black@0.3:enable='gt(t,0)', format=vaapi|nv12,hwupload&quot; -vcodec h264_vaapi &quot;output.mp4&quot;
</code></pre>
<p>Yes is a single command that I have created into a script. May eventually make it into a script 
that does more, but this is it for the current moment. </p>
<p>What this script does is run FFMPEG on the video files, merges them together, adds the branding, 
and creates a final output file, called "output.mp4" that is ready to be uploaded. </p>
<p>One additional benefit of recording the meeting, is that members that do a speech during the 
meeting can request a copy of the recording. At this time, still trying to figure out how to 
get such large video files sent to the members when they do a speech, but I believe that there 
are some online solutions that are available that could be utilized.</p>
<h2 id="shell-script">Shell Script</h2>
<p>I have decided to create this command into a script that can be deployed and run as a system service. 
That way I only have to transfer files to the server for processing. Then the script will automatically 
process them when it runs. By setting this up as a system service, I will not have to start it because 
it will automatically run once the operating system has finished booting.</p>
<pre><code class="language-bash">#!/bin/bash

while true
do
cd /mnt/3761e00d-e29b-4073-b282-589ade503755/toastmasters 

for tsDirectory in $(ls -1d */)
do

if [ -f output.mp4 ]; then
    continue;
fi

if [ -f ffmpeg.txt ]; then
rm ffmpeg.txt
fi

touch ffmpeg.txt

for videoFile in *MP4
do
  echo &quot;file ${videoFile}&quot; &gt;&gt; ffmpeg.txt
done #end for

/usr/bin/ffmpeg -y -loglevel error -safe 0 -init_hw_device vaapi=foo:/dev/dri/renderD128 -hwaccel vaapi -hwaccel_output_format nv12 -f concat -i &quot;ffmpeg.txt&quot; -filter_hw_device foo -vf &quot;drawtext=textfile:'towertoastmasters.org':fontcolor=white:fontsize=h/25:x=w-tw-30:y=30:box=1:boxborderw=10:boxcolor=black@0.3:enable='gt(t,0)', format=vaapi|nv12,hwupload&quot; -vcodec h264_vaapi &quot;output.mp4&quot;

done #end for

sleep 3600

done #end while
</code></pre>
<h2 id="system-service">System Service</h2>
<p>To run the script as a system service, I created the following service file. This file is placed in the 
/etc/systemd/service directory on Ubuntu 20.04 LTS (may change in future Ubuntu releases).</p>
<pre><code class="language-txt">[Unit]
Description=TM Video Processor
After=network.target
Documentation=https://thealmostengineer.com/blog

[Service]
Type=simple
Restart=always
ExecStart=/home/iamadmin/tmVideoProcessor.sh
User=iamadmin
</code></pre>

      

      <div class="text-muted py-2">
        
        <span>Updated: 2022-10-03 |</span>
        

        
        <span>Posted: 2022-08-30</span>
        
      </div>
      <div class="text-muted pb-2">
        
        <div>Author: Kenny Robinson, @almostengr</div>
        
      </div>

      <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4218270188842097" data-ad-slot="5189305512" data-ad-format="auto"
        data-full-width-responsive="true"></ins>
      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div><!-- /.blog-main -->

    <aside class="col-md-4 blog-sidebar">
      <div class="p-4 mb-3 bg-light rounded shadow">
        <h4 class="font-italic">About Kenny</h4>
        <p class="mb-0">
          A software developer that builds and fixes things, and writes about the journey.
        </p>
      </div>
      <div class="p-4 shadow mb-3">
        <h4 class="font-italic">Get Into Tech</h4>
        <p class="mb-0">
          Are you looking to get into a tech career or role? Check out the
          <a href="/resources">Resources</a> section for more information. Also check out my
          <a href="https://www.youtube.com/channel/UC4xp-TEEIAL-4XtMVvfRaQw?sub_confirmation=1" target="_blank">
            Tech Talk YouTube Channel</a> and
          <a href="https://www.facebook.com/profile.php?id=100089303142244" target="_blank">
            Tech Talk Facebook page</a> for video tutorials about software development, web development,
          and working with tech.
          </a>
        </p>
      </div>
      <div class="p-4 shadow mb-3">
        <h4 class="font-italic">Connect with Me</h4>
        <ol class="list-unstyled">
          <li><a target="_blank" href="https://bluesky.com/almostengr.bsky.social">Blue Sky</a></li>
          <li><a target="_blank" href="https://www.fanbase.app/almostengr">Fanbase</a></li>
          <li><a target="_blank" href="https://github.com/almostengr">Github</a></li>
          <li><a target="_blank" href="https://facebook.com/rhtservicesllc">Home Improvement (Facebook)</a></li>
          <li><a target="_blank" href="https://www.youtube.com/c/RobinsonHandyandTechnologyServices?sub_confirmation=1">Home
              Improvement (YouTube)</a></li>
          <li><a target="_blank" href="https://instagram.com/almostengr">Instagram</a></li>
          <li><a target="_blank" href="https://www.youtube.com/channel/UCB7rvymUaUbbig3skv2zvCQ?sub_confirmation=1">Kenny Ram Dash Cam</a></li>
          <li><a target="_blank" href="https://stackoverflow.com/users/12875554/almostengr">StackOverflow</a></li>
          <li><a target="_blank" href="https://www.facebook.com/profile.php?id=100089303142244">Tech Talk (Facebook)</a></li>
          <li><a target="_blank" href="https://www.youtube.com/channel/UC4xp-TEEIAL-4XtMVvfRaQw?sub_confirmation=1">Tech Talk
              (YouTube)</a></li>
          <li><a target="_blank" href="https://www.tiktok.com/@almostengr">TikTok</a></li>
          <li><a target="_blank" href="https://twitter.com/almostengr">Twitter</a></li>
        </ol>
      </div>
      <div class="p-4 shadow mb-3">
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4218270188842097" data-ad-slot="5189305512" data-ad-format="auto"
          data-full-width-responsive="true"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
      </div>
    </aside><!-- /.blog-sidebar -->
  </div><!-- /.row -->
</main><!-- /.container -->
<footer class="blog-footer bg-dark text-light text-left">
  <div class="container">
    <div>
      <a class="text-light pr-2" href="/blog">Blog</a>
      <a class="text-light pr-2" href="/projects">Projects</a>
      <a class="text-light pr-2" href="/resources">Get Into Tech</a>
      <a class="text-light pr-2" href="/services">Services</a>
      <a class="text-light pr-2" href="/blog">Food</a>
      <a class="text-light pr-2" href="/uses">Uses</a>
      <a class="text-light pr-2" href="/about">About</a>
      <a class="text-light pr-2" href="/contact">Contact</a>
      <a class="text-light pr-2" href="/privacy">Privacy Policy</a>
      <a class="text-light pr-2" href="/sitemap.xml">Sitemap</a>
    </div>
    <div>
      <a class="text-light pr-2" target="_blank" href="https://facebook.com/rhtservicesllc">Home Improvement (Facebook)</a>
      <a class="text-light pr-2" target="_blank" href="https://www.youtube.com/c/RobinsonHandyandTechnologyServices?sub_confirmation=1">Home
        Improvement (YouTube)</a>
      <a class="text-light pr-2" target="_blank" href="https://www.facebook.com/profile.php?id=100089303142244">Tech Talk (Facebook)</a>
      <a class="text-light pr-2" target="_blank" href="https://www.youtube.com/channel/UC4xp-TEEIAL-4XtMVvfRaQw?sub_confirmation=1">Tech Talk
        (YouTube)</a>
      <a class="text-light pr-2" target="_blank" href="https://www.youtube.com/channel/UCB7rvymUaUbbig3skv2zvCQ?sub_confirmation=1">Kenny Ram Dash
        Cam</a>
    </div>
    <div>
      <a class="text-light pr-2" target="_blank" href="https://bluesky.com/almostengr.bsky.social">Blue Sky</a>
      <a class="text-light pr-2" target="_blank" href="https://fanbase.app/almostengr">Fanbase</a>
      <a class="text-light pr-2" target="_blank" href="https://github.com/almostengr">Github</a>
      <a class="text-light pr-2" target="_blank" href="https://instagram.com/almostengr">Instagram</a>
      <a class="text-light pr-2" target="_blank" href="https://stackoverflow.com/users/12875554/almostengr">StackOverflow</a>
      <a class="text-light pr-2" target="_blank" href="https://www.tiktok.com/@almostengr">TikTok</a>
      <a class="text-light pr-2" target="_blank" href="https://twitter.com/almostengr">Twitter</a>
    </div>
    <div>Copyright &copy; 2010-2025 Kenny Robinson</div>
    <div>
      Created by <a class="text-light" href="https://rhtservices.net" target="_blank">Robinson Handy and Technology Services</a>
    </div>
    <div>
      Disclaimer: The opinions expressed here are those of mine and not representative of my employer or
      affiliates.
    </div>
  </div>
</footer>
    

  </div>
  <script type="text/javascript" src="/js/jquery.min.js"></script>
  <script type="text/javascript" src="/js/popper.min.js"></script>
  <script type="text/javascript" src="/js/bootstrap.min.js"></script>
</body>

</html>