function getHeaders(){return{"Content-Type":"application/json"}}async function submitJukeboxRequest(){const e=document.getElementById("alert"),t="alert-success",s="alert-danger",n="d-none",o=document.getElementById("jukeboxForm"),a=new FormData(o),r=Object.fromEntries(a);try{e.classList.add(n);const o=await fetch(jukeboxRoute,{method:"POST",headers:getHeaders(),body:JSON.stringify(r)}),a=await o.json();if(o.status>299)throw new Error(a.message);e.innerText=a.message,e.classList.remove(s),e.classList.add(t)}catch(n){e.innerText=n,e.classList.remove(t),e.classList.add(s)}e.classList.remove(n)}async function updateCurrentSong(){const e=document.getElementById("currentSong");if(null==e)return;try{const t=await fetch(jukeboxRoute,{method:"GET",headers:getHeaders()}),s=await t.json();if(t.status>299)throw new Error(s.message);""!==s.message?e.innerText="Now playing... "+s.message:e.innerText="The light show is offline."}catch(t){e.innerText=t}const t=5e3;setTimeout(updateCurrentSong,t)}const jukeboxRoute="/jukeboxapi.php";