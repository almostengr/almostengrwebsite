<!doctype html><html lang=en> <head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta property=og:type content=website><meta property=og:locale content=en_US><meta property=og:site_name content="The Almost Engineer"><meta name=twitter:card content=summary><meta name=twitter:site content=@almostengr><meta name=twitter:creator content=@almostengr><meta name=description content="The blog of Kenny Robinson"><meta property=og:description content="The blog of Kenny Robinson"><meta name=twitter:description content="The blog of Kenny Robinson"><meta name=author content="Kenny Robinson, @almostengr"><title>Oracle Holidays without Stored Procedure with 2 Week Notification | The Almost Engineer, The blog of Kenny Robinson</title><meta property=og:title content="Oracle Holidays without Stored Procedure with 2 Week Notification | The Almost Engineer, The blog of Kenny Robinson"><meta name=twitter:title content="Oracle Holidays without Stored Procedure with 2 Week Notification | The Almost Engineer, The blog of Kenny Robinson"><meta property=og:type content=website><meta name=robots content="index, follow"><link href=https://thealmostengineer.com/technology/2015.09.04-oracle-holidays-without-stored-procedure-with-2-week-notification/ rel=canonical><meta content=https://thealmostengineer.com/technology/2015.09.04-oracle-holidays-without-stored-procedure-with-2-week-notification/ property=og:url><meta content=https://thealmostengineer.com/technology/2015.09.04-oracle-holidays-without-stored-procedure-with-2-week-notification/ property=twitter:url><link href=/css/bootstrap.min.css rel=stylesheet><!-- Custom styles for this template --><link href="//fonts.googleapis.com/css?family=Playfair+Display:700,900" rel=stylesheet><link href=/css/theme.min.css rel=stylesheet><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/default.min.css><link rel=stylesheet href=/css/a11y-dark-theme.min.css><link rel=stylesheet href=//cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.min.css><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><link rel=manifest href=/images/site.webmanifest><!-- Global site tag (gtag.js) - Google Analytics --></head> <body class=bg-white> <nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-dark-red"> <a class="navbar-brand font-weight-bold text-uppercase" href=/ title="The Almost Engineer, The blog of Kenny Robinson">The Almost Engineer</a> <button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> <div class="collapse navbar-collapse" id=navbarCollapse> <ul class="navbar-nav ml-auto"> <li class=nav-item> <a class="nav-link text-white text-uppercase" href=/technology>Technology</a> </li> <li class=nav-item> <a class="nav-link text-white text-uppercase" href=/handyman>Handyman</a> </li> <li class=nav-item> <a class="nav-link text-white text-uppercase" href="https://www.youtube.com/c/kennythealmostengineer?sub_confirmation=1">YouTube</a> </li> <li class=nav-item> <a class="nav-link text-white text-uppercase" href=/projects>Projects</a> </li> <li class=nav-item> <a class="nav-link text-white text-uppercase" href=/services>Services</a> </li> <li class=nav-item> <a class="nav-link text-white text-uppercase" href=/about>About</a> </li> </ul> </div> </nav> <main role=main class=container> <div class=row> <div class="col-md-12 col-lg-9 blog-main"> <ul class="list-unstyled breadcrumb"> <li class=list-inline-item><a href=/ >Home</a></li> <li class=list-inline-item>&raquo; <a href=..>Technology</a></li> <li class=list-inline-item>&raquo; Oracle Holidays without Stored Procedure with 2 Week Notification</li> </ul> <div class=content> <h1 id=oracle-holidays-without-stored-procedure-with-2-week-notification>Oracle Holidays without Stored Procedure with 2 Week Notification</h1> <p>A client had a need for notifying others of upcoming holidays in some automated reports. Instead of manually adding these holidays to the reports as they were approaching, it was suggested that the dates be added to the report automatically. Through the use of SQL, the below code was created. It is not flawless, but does provide advance notification that met the client's needs. </p> <h2 id=mlk-day-3rd-monday-in-january>MLK Day, 3rd Monday in January</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: Martin Luther King Day is on ' || 
(select to_date(NEXT_DAY(to_date((select '14-JAN-' || to_char(sysdate, 'YY') from dual)),'Monday'))  from dual where 
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '14-JAN-' || to_char(sysdate, 'YY') from dual)),'Monday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '14-JAN-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual);
</code></pre> <h2 id=presidents-day-3rd-monday-in-february>President's Day, 3rd Monday in February</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: President''s Day is on ' || 
(select to_date(NEXT_DAY(to_date((select '14-FEB-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual)  from dual where 
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '14-FEB-' || to_char(sysdate, 'YY') from dual)),'Monday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '14-FEB-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual);
</code></pre> <h2 id=daylight-savings-time-start-2nd-sunday-in-march>Daylight Savings Time Start, 2nd Sunday in March</h2> <pre><code class=language-sql>select 'Upcoming Special Processing: Daylight Savings Time Starts on ' ||
(select to_date(NEXT_DAY(to_date((select '1-MAR-' || to_char(sysdate, 'YY') from dual)),'Sunday')) from dual)  from dual where
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '1-MAR-' || to_char(sysdate, 'YY') from dual)),'Monday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '1-MAR-' || to_char(sysdate, 'YY') from dual)),'Sunday')) from dual);
</code></pre> <h2 id=memorial-day-last-monday-in-may>Memorial Day, last Monday in May</h2> <pre><code class=language-sql>select 'Upcoming Holiday and  Special Processing: Memorial Day is on ' || 
(select to_date(NEXT_DAY(to_date((select '24-MAY-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual)  from dual where 
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '24-MAY-' || to_char(sysdate, 'YY') from dual)),'Monday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '24-MAY-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual);
</code></pre> <h2 id=independence-day-july-4th>Independence Day, July 4th</h2> <pre><code class=language-sql>select 'Upcoming Holiday and  Special Processing: Independence Day is on 04-JUL-' || 
(select to_char(sysdate, 'YY') from dual)  from dual
where (to_char(sysdate, 'Mon') = 'Jun' and sysdate &gt;= to_date('20', 'DD') AND
(to_char(sysdate, 'Mon') = 'Jul' and sysdate &lt;= to_date('05', 'DD') );
</code></pre> <h2 id=labor-day-1st-monday-in-september>Labor day, 1st Monday in September</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: Labor Day is on ' ||
(select to_date(NEXT_DAY(to_date((select '31-AUG-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual)  from dual where 
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '31-AUG-' || to_char(sysdate, 'YY') from dual)),'Monday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '31-AUG-' || to_char(sysdate, 'YY') from dual)),'Monday')) from dual);
</code></pre> <h2 id=daylight-savings-time-ends-1st-sunday-in-november>Daylight Savings Time Ends, 1st Sunday in November</h2> <pre><code class=language-sql>select 'Upcoming Special Processing: Daylight Savings Time Ends on ' || 
(select to_date(NEXT_DAY(to_date((select '31-OCT-' || to_char(sysdate, 'YY') from dual)),'Sunday')) from dual)  from dual where
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '31-OCT-' || to_char(sysdate, 'YY') from dual)),'Sunday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '31-OCT-' || to_char(sysdate, 'YY') from dual)),'Sunday')) from dual);
</code></pre> <h2 id=veterans-day-november-11th>Veterans Day, November 11th</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: Veteran''s Day is on 11-NOV-' || 
(select to_char(sysdate, 'YY') from dual)  from dual
where (to_char(sysdate, 'Mon') = 'Oct' and sysdate &gt;= to_date('28', 'DD')) AND 
(to_char(sysdate, 'Mon') = 'Nov' and sysdate &lt;= to_date('11', 'DD'));
</code></pre> <h2 id=thanksgiving-and-day-after-thanksgiving-black-friday-4th-thursday-in-november>Thanksgiving and Day after Thanksgiving (Black Friday), 4th Thursday in November</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: Thanksgiving and Day After Thanksgiving are on ' || 
(select to_date(NEXT_DAY(to_date((select '21-NOV-' || to_char(sysdate, 'YY') from dual)),'Thursday')) from dual) || ' and ' ||
(select to_date(NEXT_DAY(to_date((select '21-NOV-' || to_char(sysdate, 'YY') from dual)),'Friday')) from dual)  from dual where 
sysdate &gt;= (select to_date(NEXT_DAY(to_date((select '21-NOV-' || to_char(sysdate, 'YY') from dual)),'Thursday'))-14 from dual) and
sysdate &lt;= (select to_date(NEXT_DAY(to_date((select '21-NOV-' || to_char(sysdate, 'YY') from dual)),'Friday')) from dual);
</code></pre> <h2 id=christmas-december-25th>Christmas, December 25th</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: Christmas Day is on 25-DEC-' || 
(select to_char(sysdate, 'YY') from dual)  from dual  
where to_char(SYSDATE, 'Mon') = 'Dec' AND 
to_char(sysdate, 'W') in ('2', '3', '4') and sysdate &lt;= to_date('26', 'DD');
</code></pre> <h2 id=new-years-eve-and-new-years-day-january-1>New Year's Eve and New Year's Day, January 1</h2> <pre><code class=language-sql>select 'Upcoming Holiday and Special Processing: New Year''s Day is on 1-JAN-' || 
(select to_char(sysdate+365, 'YY') from dual)  from dual  
where (to_char(SYSDATE, 'Mon') = 'Dec' AND to_char(sysdate, 'W') in ('2', '3', '4', '5'));

select 'Upcoming Holiday and Special Processing: New Year''s Day is on 1-JAN-' || 
(select to_char(sysdate, 'YY') from dual)  from dual where
(to_char(sysdate, 'Mon') = 'Jan' and sysdate &lt;= to_date('02', 'DD')); 
</code></pre> <!-- mobile page links --> </div> <!-- home page listing --> <p> </p> <div class=pb-3> <a class=a2a_dd href=https://www.addtoany.com/share> <img src=https://static.addtoany.com/buttons/share_save_171_16.png height=16 alt=Share> </a> </div> <div class="bg-warning my-3 mx-5 p-2 rounded"> I enjoy sharing the content that you find here. I ask that you consider purchasing an item on my <a href="https://www.amazon.com/hz/wishlist/ls/38QKZTVCEAUK3?ref_=wl_share" target=_blank>Amazon Wish List</a> or you can make a <a href=/donate>donation</a>. </div> <script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script> <ins class=adsbygoogle style=display:block data-ad-client=ca-pub-4218270188842097 data-ad-slot=5189305512 data-ad-format=auto data-full-width-responsive=true></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div><!-- /.blog-main --> <aside class="col-lg-3 blog-sidebar"> <div class="card mb-3"> <div class="card-header bg-black text-white text-center"> <h4 style="border: 0px;">Information</h4> </div> <div class="card-body bg-light"> <p id=readtime><strong>Read Time: </strong> 5 minutes </p> <p id=wordcount><strong>Word Count: </strong>1003 words</p> <p id=posteddate><strong>Posted: </strong>2015-09-04</p> <p id=updateddate><strong>Updated: </strong>2020-07-15</p> <p id=category><strong>Category: </strong><a href=/technology>Technology</a></p> </div> </div> <div class="card mb-3"> <div class="card-header bg-black text-white text-center"> <h4 style="border: 0px;">Share This</h4> </div> <div class="card-body bg-light"> <a class=a2a_dd href=https://www.addtoany.com/share> <img src=https://static.addtoany.com/buttons/share_save_171_16.png height=16 alt=Share> </a> </div> </div> <div class="card mb-3"> <div class="card-header bg-black text-white text-center"> <h4 style="border: 0px;">Drupal 8 Course</h4> </div> <div class="card-body bg-light"> <ul class=list-unstyled> <li><a class=text-decoration-none href="https://www.youtube.com/watch?v=iujOWWbiUP0&list=PLaAJ0fv0d9WM8E2K_Ke5As-fw626yQ3tu" target=_blank> <i class></i> Learning the basics of Drupal 8 is easy. Watch the free course now!</a></li> </ul> </div> </div> <div class=mb-3> <script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script> <ins class=adsbygoogle style=display:block data-ad-client=ca-pub-4218270188842097 data-ad-slot=5189305512 data-ad-format=auto data-full-width-responsive=true></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div> <div class=mb-3> <script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script> <ins class=adsbygoogle style=display:block data-ad-client=ca-pub-4218270188842097 data-ad-slot=5189305512 data-ad-format=auto data-full-width-responsive=true></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div> </aside><!-- /.blog-sidebar --> </div><!-- /.row --> <p class=text-center><a href=#>Back To Top</a></p> </main><!-- /.container --> <footer class="blog-footer bg-black  text-left p-2"> <div class=container> <div class=row> <div class="col-sm-12 col-lg-3"> <ul class=list-unstyled> <li class="bg-white text-dark px-2 mb-1 font-weight-bold rounded"> SOCIAL </li> <li class=px-3> <a href=https://github.com/almostengr><i class="bi bi-github"></i> GitHub</a> </li> <li class=px-3> <a href=https://www.instagram.com/almostengr><i class="bi bi-instagram"></i> Instagram</a> </li> <li class=px-3> <a href=https://twitter.com/almostengr><i class="bi bi-twitter"></i> Twitter</a> </li> <li class=px-3> <a href="https://www.youtube.com/c/kennythealmostengineer?sub_confirmation=1"><i class="bi bi-youtube"></i> YouTube</a> </li> </ul> </div> <div class="col-sm-12 col-lg-3"> <ul class=list-unstyled> <li class="bg-white text-dark px-2 mb-1 font-weight-bold rounded"> BLOG </li> <li class=px-3> <a href=/technology><i class="bi bi-journal-text"></i> Technology</a> </li> <li class=px-3> <a href=/handyman><i class="bi bi-journal-text"></i> Handyman</a> </li> <li class=px-3> <a href=/gardening><i class="bi bi-journal-text"></i> Gardening</a> </li> <li class=px-3> <a href=/lifestyle><i class="bi bi-journal-text"></i> Lifestyle</a> </li> <li class=px-3> <a href=/cookbook><i class="bi bi-journal-text"></i> Cookbook</a> </li> </ul> </div> <div class="col-sm-12 col-lg-3"> <ul class=list-unstyled> <li class="bg-white text-dark px-2 mb-1 font-weight-bold rounded"> PROJECTS </li> <li class=px-3> <a href=/lightshow><i class="bi bi-lightbulb"></i> Christmas Light Show</a> </li> <li class=px-3> <a href=/falconpitwitter><i class="bi bi-cpu-fill"></i> Falcon Pi Twitter</a> </li> <li class=px-3> <a href=/resources><i class="bi bi-bookshelf"></i> Resources</a> </li> <li class=px-3> <a href=/speaking><i class="bi bi-megaphone-fill"></i> Speaking</a> </li> <li class=px-3> <a href=/trafficpi><i class="bi bi-stoplights"></i> Traffic Pi</a> </li> <li class=px-3> <a href=/projects><i class="bi bi-journal"></i> All Projects</a> </li> </ul> </div> <div class="col-sm-12 col-lg-3"> <ul class=list-unstyled> <li class="bg-white text-dark px-2 mb-1 font-weight-bold rounded"> LINKS </li> <li class=px-3> <a href=/search2><i class="bi bi-search"></i> Search</a> </li> <li class=px-3> <a href=/services><i class="bi bi-briefcase"></i> Services</a> </li> <li class=px-3> <a href=/about><i class="bi bi-file-person-fill"></i> About</a> </li> <li class=px-3> <a href=/uses><i class="bi bi-tools"></i> Uses (Tools Used)</a> </li> <li class=px-3> <a href=/contact><i class="bi bi-person-lines-fill"></i> Contact</a> </li> <li class=px-3> <a href=/sitemap.xml><i class="bi bi-diagram-3"></i> Sitemap</a> </li> <li class=px-3> <a href=/privacy><i class="bi bi-shield-shaded"></i> Privacy</a> </li> </ul> </div> </div> <p class=text-center> Copyright &copy; 2021 Kenny Robinson | Website built and maintained by <a href=https://rhtservices.net target=_blank>Robinson Handy and Technology Services LLC</a><br> The opinions expressed here are of my own and do not represent my employer in any way.<br> Build Date UTC : 2021-07-11 21:29:02.782383+00:00 </p> </div> </footer> <script src=//code.jquery.com/jquery-3.5.1.slim.min.js async integrity=sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj crossorigin=anonymous></script> <script>window.jQuery || document.write('<script src="/js/vendor/jquery.slim.min.js"><\/script>')</script> <script async src=/js/bootstrap.bundle.min.js></script> <script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js></script> <script src=/js/theme.min.js defer></script> <script>let getUrl = window.location; var base_url = getUrl.protocol + "//" + getUrl.host + "/";</script> <script src=/search/main.js defer></script> <script>hljs.initHighlightingOnLoad();</script> <script type=text/javascript async>var a2a_config = a2a_config || {}; a2a_config.onclick = 1;</script> <script async src=https://static.addtoany.com/menu/page.js></script> </body> </html>