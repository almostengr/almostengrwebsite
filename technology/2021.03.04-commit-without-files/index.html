<!doctype html><html lang=en> <head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name=description content="The blog of Kenny Robinson"><meta name=author content="Kenny Robinson, @almostengr"><meta name=generator content=Mkdocs><title>Commit Without Files - The Almost Engineer</title><link href=/assets/dist/css/bootstrap.min.css rel=stylesheet><link href=/css/blog.min.css rel=stylesheet><meta property=og:type content=website><meta property=og:locale content=en_US><meta property=og:site_name content="The Almost Engineer"><meta name=twitter:card content=summary><meta name=twitter:site content><meta name=twitter:creator content><meta name=description content="You can write commit messages without committing files"><meta property=og:description content="You can write commit messages without committing files"><meta name=twitter:description content="You can write commit messages without committing files"><meta name=keywords content="version control, git, github, versioning, commiting files, tech tips"><meta name=robots content="index, follow"><link href=https://thealmostengineer.com/technology/2021.03.04-commit-without-files/ rel=canonical><meta content=https://thealmostengineer.com/technology/2021.03.04-commit-without-files/ property=og:url><meta content=https://thealmostengineer.com/technology/2021.03.04-commit-without-files/ property=twitter:url><meta name=author content="Kenny Robinson"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="//www.googletagmanager.com/gtag/js?id="></script><script async>window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-64643711-1');</script></head> <body class=bg-dark> <nav class="navbar navbar-expand-md navbar-dark bg-dark pb-2"> <a href=/ class=navbar-brand>The Almost Engineer</a> <button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation"> <span class=navbar-toggler-icon></span> </button> <div class="collapse navbar-collapse" id=navbarCollapse> <ul class="navbar-nav mr-auto"> <li class=nav-item><a class="nav-link text-light" href=/technology>Technology</a></li> <li class=nav-item><a class="nav-link text-light" href=/lifestyle>Living</a></li> <li class=nav-item><a class="nav-link text-light" href=/projects>Projects</a></li> <li class=nav-item><a class="nav-link text-light" href=/resources>Get Into Tech</a></li> <li class=nav-item><a class="nav-link text-light" href=https://lightshow.thealmostengineer.com>Light Show</a></li> </ul> <form class="form-inline mt-2 mt-md-0" action=https://www.google.com/search method=get> <input type=hidden name=q value=site:thealmostengineer.com> <input class="form-control mr-sm-2" type=text placeholder="Search with Google" aria-label=Search name=q> </form> </div> </nav> <div class="bg-light pt-3 mb-0 pb-0"> <main role=main class=container> <div class=row> <div class="col-md-8 blog-main"> <h1>Commit Without Files</h1> <p>I was recently looking into whether it was possible to write commit messages without actually commiting files. Come to find out, it is possible. You're probably thinking, why would one want to do this? There are couple reasons that I could come up with.</p> <h2 id=use-cases>Use Cases</h2> <h3 id=trigger-cicd>Trigger CI/CD</h3> <p>One of the most common reasons to do this is so that you can trigger the CI/CD workflow after a failed run. In some situations, a run may fail for reasons other than the code. For instance, a server may not be responding or is offline.</p> <p>You're probably saying, just go in the workflow tool (Jenkins, DevOps, GitHub Actions) and manually trigger the work flow. In some set ups, only certain individuals are allowed to trigger workflows manually, such as system admins or team managers. Access control is a big thing, especially in larger organizations.</p> <h3 id=updating-issues-user-stories>Updating Issues / User Stories</h3> <p>In my case, I have been trying to be more proactive about closing the GitHub Issues with commit messages instead of using comments on the issues themselves. Why is that the case? Because it associates the issue with the commit. Having the issue associated with the commit is helpful when tracing when bugs or defects were introduced into the code.</p> <h2 id=how-to-commit-without-files>How To Commit Without Files</h2> <p>If you try to do a commit without adding files first, then you will get the below output: </p> <pre><code class=language-bash>almostengineer@aeoffice:~/ubuntu-automation/git_scripts$ git commit -m &quot;my commit message&quot;
On branch main
Your branch is up to date with 'origin/main'.

nothing added to commit but untracked files present (use &quot;git add&quot; to track)
</code></pre> <p>As you see, git will tell you that there is nothing to track and thus nothing to commit to the repository.</p> <p>Normally when you do a commit, you run <code>git add</code> followed by <code>git commit</code>. However, since there are no files to commit, you skip the <code>git add</code> command and only do the commit. </p> <p>Here's the command that you run to do a commit without any files: </p> <pre><code class=language-bash>git commit --allow-empty -m &quot;My commit message&quot;
</code></pre> <p>Let's break down the command. The <code>git commit</code> and <code>-m "My commit message"</code> are familiar to you if you do your commits via the command line like how I do mine. </p> <p>The part <code>--allow-empty</code> is probably what you are not familiar with. This part is the argument that has to be passed in so that you can do a commit without any files. </p> <p>Looking at the documentation with "git commit --help", it says </p> <pre><code class=language-text> --allow-empty
Usually recording a commit that has the exact same tree as its sole parent commit is a mistake, and the command prevents you from making such a commit.
This option bypasses the safety, and is primarily for use by foreign SCM interface scripts.
</code></pre> <p>As you see, this is why when you try to do a commit without adding files first, that you get the error message mentioned above. </p> <h2 id=conclusion>Conclusion</h2> <p>I plan on using this going forward when I miss closing issues or user stories with previous commits. I probably will not being using it to trigger workflows as I have access to my personal CI/CD pipeline tools and can trigger them manually when need be.</p> <div class="text-muted py-2"> <span>Posted: 2021-03-04</span> </div> <div class="text-muted pb-2"> <div>Author: Kenny Robinson</div> </div> <script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script> <ins class=adsbygoogle style=display:block data-ad-client=ca-pub-4218270188842097 data-ad-slot=5189305512 data-ad-format=auto data-full-width-responsive=true></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div><!-- /.blog-main --> <aside class="col-md-4 blog-sidebar"> <div class="p-4 mb-3 bg-light rounded shadow"> <h4 class=font-italic>About Kenny</h4> <p class=mb-0> A software developer that builds and fixes things, and writes about the journey. </p> </div> <div class="p-4 shadow mb-3"> <h4 class=font-italic>Get Into Tech</h4> <p class=mb-0> Are you looking to get into a tech career or role? Check out the <a href=/resources>Resources</a> section for more information. Also check out my <a href="https://www.youtube.com/channel/UC4xp-TEEIAL-4XtMVvfRaQw?sub_confirmation=1" target=_blank> Tech Talk YouTube Channel</a> and <a href="https://www.facebook.com/profile.php?id=100089303142244" target=_blank> Tech Talk Facebook page</a> for video tutorials about software development, web development, and working with tech. </a> </p> </div> <div class="p-4 shadow mb-3"> <h4 class=font-italic>Connect with Me</h4> <ol class=list-unstyled> <li><a target=_blank href=https://github.com/almostengr>Github</a></li> <li><a target=_blank href=https://facebook.com/rhtservicesllc>Home Improvement (Facebook)</a></li> <li><a target=_blank href="https://www.youtube.com/c/RobinsonHandyandTechnologyServices?sub_confirmation=1">Home Improvement (YouTube)</a></li> <li><a target=_blank href=https://instagram.com/almostengr>Instagram</a></li> <li><a target=_blank href="https://www.youtube.com/channel/UCB7rvymUaUbbig3skv2zvCQ?sub_confirmation=1">Kenny Ram Dash Cam</a></li> <li><a target=_blank href=https://stackoverflow.com/users/12875554/almostengr>StackOverflow</a></li> <li><a target=_blank href="https://www.facebook.com/profile.php?id=100089303142244">Tech Talk (Facebook)</a></li> <li><a target=_blank href="https://www.youtube.com/channel/UC4xp-TEEIAL-4XtMVvfRaQw?sub_confirmation=1">Tech Talk (YouTube)</a></li> <li><a target=_blank href=https://www.tiktok.com/@almostengr>TikTok</a></li> <li><a target=_blank href=https://twitter.com/almostengr>Twitter</a></li> </ol> </div> <div class="p-4 shadow mb-3"> <script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script> <ins class=adsbygoogle style=display:block data-ad-client=ca-pub-4218270188842097 data-ad-slot=5189305512 data-ad-format=auto data-full-width-responsive=true></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> </div> </aside><!-- /.blog-sidebar --> </div><!-- /.row --> </main><!-- /.container --> <footer class="blog-footer bg-dark text-light text-left"> <div class=container> <div> <a class="text-light pr-2" href=/technology>Technology</a> <a class="text-light pr-2" href=/lifestyle>Living</a> <a class="text-light pr-2" href=/projects>Projects</a> <a class="text-light pr-2" href=/resources>Get Into Tech</a> <a class="text-light pr-2" href=/services>Services</a> <a class="text-light pr-2" href=/cooking>Food</a> <a class="text-light pr-2" href=/uses>Uses</a> <a class="text-light pr-2" href=/about>About</a> <a class="text-light pr-2" href=/contact>Contact</a> <a class="text-light pr-2" href=/about/privacy>Privacy Policy</a> <a class="text-light pr-2" href=/sitemap.xml>Sitemap</a> </div> <div> <a class="text-light pr-2" target=_blank href=https://facebook.com/rhtservicesllc>Home Improvement (Facebook)</a> <a class="text-light pr-2" target=_blank href="https://www.youtube.com/c/RobinsonHandyandTechnologyServices?sub_confirmation=1">Home Improvement (YouTube)</a> <a class="text-light pr-2" target=_blank href="https://www.facebook.com/profile.php?id=100089303142244">Tech Talk (Facebook)</a> <a class="text-light pr-2" target=_blank href="https://www.youtube.com/channel/UC4xp-TEEIAL-4XtMVvfRaQw?sub_confirmation=1">Tech Talk (YouTube)</a> <a class="text-light pr-2" target=_blank href="https://www.youtube.com/channel/UCB7rvymUaUbbig3skv2zvCQ?sub_confirmation=1">Kenny Ram Dash Cam</a> </div> <div> <a class="text-light pr-2" target=_blank href=https://github.com/almostengr>Github</a> <a class="text-light pr-2" target=_blank href=https://instagram.com/almostengr>Instagram</a> <a class="text-light pr-2" target=_blank href=https://stackoverflow.com/users/12875554/almostengr>StackOverflow</a> <a class="text-light pr-2" target=_blank href=https://www.tiktok.com/@almostengr>TikTok</a> <a class="text-light pr-2" target=_blank href=https://twitter.com/almostengr>Twitter</a> </div> <div>Copyright &copy; 2010-2024 Kenny Robinson</div> <div> Created by <a class=text-light href=https://rhtservices.net target=_blank>Robinson Handy and Technology Services</a> </div> <div> Disclaimer: The opinions expressed here are those of mine and not representative of my employer or affiliates. </div> </div> </footer> </div> <script type=text/javascript src=/js/jquery.min.js></script> <script type=text/javascript src=/js/popper.min.js></script> <script type=text/javascript src=/js/bootstrap.min.js></script> </body> </html>