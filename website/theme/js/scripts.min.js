function requestHeaders(){return{"Content-Type":"application/json"}}async function submitJukeboxRequest(){alertBody.classList.add(dNone);try{const e=new FormData(jukeboxForm),t=Object.fromEntries(e),n=await fetch(jukeboxRoute,{method:"POST",headers:requestHeaders(),body:JSON.stringify(t)}),s=await n.json();if(alertText.innerText=s.message,n.status>299)throw new Error(s.message);alertBody.classList.remove(alertDangerClass),alertBody.classList.add(alertSuccessClass)}catch(e){alertBody.classList.remove(alertSuccessClass),alertBody.classList.add(alertDangerClass)}alertBody.classList.remove(dNone);const e=5e3;setTimeout(()=>{alertBody.classList.add(dNone)},e)}async function getDisplayData(){if(null!=songTitleElement)try{const e=await fetch(jukeboxRoute,{method:"GET",headers:requestHeaders()});if(e.status>299)throw new Error(t.message);let t=await e.json();""===t.title?(songTitleElement.innerText="Show is offline",artistElement.innerText="Show dates and times are available below.",jukeboxForm.classList.add(dNone)):(songTitleElement.innerText=t.title,artistElement.innerText=t.artist,nwsTempElement.innerText=t.nwstemp,windChillElement.innerText=t.windchill,cpuTempElement.innerText=t.cputemp,lastUpdatedElement.innerText=t.createdTime,jukeboxForm.classList.remove(dNone)),errorsElement.innerText=""}catch(e){errorsElement.innerText=e}}const jukeboxRoute="/jukeboxapi.php",alertDangerClass="alert-danger",alertSuccessClass="alert-success",dNone="d-none",textDangerClass="text-danger",artistElement=document.getElementById("songArtist"),cpuTempElement=document.getElementById("cpuTemp"),jukeboxForm=document.getElementById("jukeboxForm"),nwsTempElement=document.getElementById("nwsTemp"),showMetaDataElement=document.getElementById("showMetaData"),songTitleElement=document.getElementById("songTitle"),windChillElement=document.getElementById("windChill"),lastUpdatedElement=document.getElementById("lastUpdated"),errorsElement=document.getElementById("errors");getDisplayData();const delaySeconds=1e4;setInterval(getDisplayData,delaySeconds);