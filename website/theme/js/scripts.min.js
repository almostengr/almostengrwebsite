function getHeaders(){return{"Content-Type":"application/json"}}async function submitJukeboxRequest(){const e=document.getElementById("alert"),t="alert-success",n="alert-danger",s=document.getElementById("jukeboxForm"),o=new FormData(s),a=Object.fromEntries(o);try{e.classList.add(dNone);const s=await fetch(jukeboxRoute,{method:"POST",headers:getHeaders(),body:JSON.stringify(a)}),o=await s.json();if(s.status>299)throw new Error(o.message);e.innerText=o.message,e.classList.remove(n),e.classList.add(t)}catch(s){e.innerText=s,e.classList.remove(t),e.classList.add(n)}e.classList.remove(dNone)}async function updateCurrentSong(){const e=document.getElementById("currentSong");if(null==e)return;try{const t=await fetch(jukeboxRoute,{method:"GET",headers:getHeaders()}),n=await t.json();if(t.status>299)throw new Error(n.message);""!==n.message?e.innerText="Now playing... "+n.message:e.innerText="The light show is offline"}catch(t){e.innerText=t}const t=5e3;setTimeout(updateCurrentSong,t)}const dNone="d-none",jukeboxRoute="/jukeboxapi.php";