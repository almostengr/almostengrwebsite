function getHeaders(){return{"Content-Type":"application/json"}}async function submitJukeboxRequest(){alertBody.classList.add(dNone);try{const e=new FormData(jukeboxForm),t=Object.fromEntries(e),n=await fetch(jukeboxRoute,{method:"POST",headers:getHeaders(),body:JSON.stringify(t)}),s=await n.json();if(alertText.innerText=s.message,n.status>299)throw new Error(s.message);alertBody.classList.remove(dangerClass),alertBody.classList.add(successClass)}catch(e){alertBody.classList.remove(successClass),alertBody.classList.add(dangerClass)}alertBody.classList.remove(dNone);const e=5e3;setTimeout(()=>{alertBody.classList.add(dNone)},e)}async function getDisplayData(){if(null!=songNameElement)try{if(await fetch(jukeboxRoute,{method:"GET",headers:getHeaders()}),response.status>299)throw new Error(e.message);let e=await response.json();""===e.Title?(showOffline.classList.remove(dNone),currentSongMetaData.classList.add(dNone),jukeboxForm.classList.add(dNone)):(songNameElement.innerText=e.Title,artistElement.innerText=e.Artist,controllerTempElement.innerText="",e.CpuTempSensors.foreach(e=>{controllerTempElement.innerText+=`${e} `}),nwsTempElement.innerText=e.NwsTemperature,windChillElement.innerText=""==element.value?"None":`${tempF}F (${tempC}C)`,showOffline.classList.add(dNone),currentSongMetaData.classList.remove(dNone),jukeboxForm.classList.remove(dNone)),songNameElement.classList.remove(textDanger)}catch(e){songNameElement.innerText=e,songNameElement.classList.add(textDanger)}}const jukeboxRoute="/jukeboxapi.php",dangerClass="alert-danger",dNone="d-none",textDanger="text-danger",successClass="alert-success",artistElement=document.getElementById("currentArtist"),controllerTempElement=document.getElementById("controllerTemp"),currentSongMetaData=document.getElementById("currentSongMetaData"),jukeboxForm=document.getElementById("jukeboxForm"),nwsTempElement=document.getElementById("nwsTemp"),showOffline=document.getElementById("showOffline"),songNameElement=document.getElementById("currentSong"),windChillElement=document.getElementById("windchill");getDisplayData();const delaySeconds=1e4;setInterval(getDisplayData,delaySeconds);